{% extends "layout/basic.html" %}
{% block content %}
<div class="row">
  <div class="medium-9 columns">
    <div class="section">
      <div class="section__header">
        <h2 class="section__title">{{ _("Repo Details") }}</h2>
      </div>
      <div class="section__body">
        {% if repo %}


          <div class="section">
            <div class="section__header">
              <h3>{{ _("Repo Map") }}</h3>
            </div>
            <div class="section__body">
              <div style="overflow-x: auto;">
                <svg id="d3-repo"></svg>
              </div>
            </div>
          </div>

        {% else %}
          <p>{{ _("Repo not found.") }}</p>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="medium-3 columns">
          <div class="section">
            <div class="section__header">
              <h3>{{ _(repo.title) }}</h3>
            </div>
            <div class="section__body">
              {% if repo.content %}
                <div class="typo richmedia topic__content" data-emoji-enabled>
                  {{ repo.content|markdown|safe }}
                </div>
              {% else %}
                <p>{{ _("No content available.") }}</p>
              {% endif %}
            </div>
          </div>
  </div>
  <div class="medium-3 columns">
    <div class="section">
      <div class="section__header">
        <h2 class="section__title">{{ _("Actions") }}</h2>
      </div>
      <div class="section__body">
        {% if repo %}
          <a href="{{ url('repo_edit', domainId=repo.domainId, rpid=repo.rpid) }}" class="button primary expanded">
            {{ _('Edit Repo') }}
          </a>
          {% if not branchHierarchy.trunk %}
            <a href="{{ url('repo_create_root', domainId=repo.domainId, rpid=repo.rpid) }}" class="button success expanded">
              {{ _('Create Root') }}
            </a>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
