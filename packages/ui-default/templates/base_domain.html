{% extends "layout/basic.html" %}
{% block content %}
<div class="row">

  <div class="medium-9 columns">
    <div class="section">
      <div class="section__header">
        <h2 class="section__title">{{ _("Base Overview") }}</h2>
      </div>
      <div class="section__body">
        {% if base %}
          <h3>{{ base.title }}</h3>
          <div class="typo richmedia topic__content" data-emoji-enabled>
            {{ base.content|markdown|safe }}
          </div>
        {% else %}
          <p>{{ _("No base exists. You can create one.") }}</p>
        {% endif %}
      </div>
    </div>

    <div class="section">
      <div class="section__header">
        <h2 class="section__title">{{ _("Repo Map") }}</h2>
      </div>
      <div class="section__body">
        <svg id="d3-base" style="width: 100%; height: 600px; background-color: #f8f8f8; border: 1px solid #ccc;"></svg>
      </div>
    </div>
  </div>

  <div class="medium-3 columns">
    <div class="section side">
      <div class="section__header">
        <h2 class="section__title">{{ _("Actions") }}</h2>
      </div>
      <div class="section__body">
        {% if not base %}
          <a href="{{ url('base_create', domainId=domainId) }}" class="button success expanded">
            {{ _('Create Base') }}
          </a>
        {% else %}
          {% if base.docId %}
            <a href="{{ url('base_edit', domainId=domainId, docId=base.docId) }}" class="button secondary expanded">
              {{ _('Edit Base') }}
            </a>
          {% endif %}
          <a href="{{ url('repo_create', domainId=domainId) }}" class="button primary expanded">
            {{ _('Create Repo') }}
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}