{% set page_name = "tool_main" %}
{% extends "layout/basic.html" %}
{% block head %}
{{ super() }}
<style>
.tool_main__row--market { background-color: #f8f9fa; }
.tool_main__row--market .col--server code { color: #0969da; }
</style>
{% endblock %}
{% block content %}
{{ set(
  UiContext, 'socketUrl',
  "tool/status/ws?domainId=" + handler.args.domainId
) }}
<div class="row">
  <div class="medium-12 columns">
    <div class="section">
      <div class="section__header">
        <h1 class="section__title">{{ _('MCP Tools') }}</h1>
        <div class="section__tools">
          <a href="{{ url('tool_market', { domainId: handler.args.domainId }) }}" class="button">{{ _('tool_market') }}</a>
        </div>
      </div>
      <div class="section__body no-padding">
        {% if not tools or not tools.length %}
          <div class="typo">
            <p>{{ _('No MCP tools yet. When MCP server connects and registers, they will appear here.') }}</p>
          </div>
        {% else %}
          <table class="data-table tool_main__table">
            <colgroup>
              <col class="col--status">
              <col class="col--server">
              <col class="col--name">
              <col class="col--description">
            </colgroup>
            <thead>
              <tr>
                <th class="col--status">{{ _('Status') }}</th>
                <th class="col--server">{{ _('Server') }}</th>
                <th class="col--name">{{ _('Tool Name') }}</th>
                <th class="col--description">{{ _('Description') }}</th>
              </tr>
            </thead>
            <tbody>
              {%- for tool in tools -%}
                {% include 'tool_main_tr.html' %}
              {%- endfor -%}
            </tbody>
          </table>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

