{% extends "layout/basic.html" %}
{% block content %}
<style>
#scene-event-editor {
    height: calc(100vh - 200px);
    min-height: 600px;
}
</style>

<div class="row">
  <div class="columns">
    <div class="section">
      <div class="section__header">
        <h1 class="section__title">{{ _('Edit Event') if event else _('Create Event') }}</h1>
      </div>
      <div class="section__body" style="padding: 0;">
        <div 
          id="scene-event-editor"
          data-event-id="{{ event.eid if event else '' }}"
        >
          <!-- React 组件将在这里渲染 -->
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    window.nodeDevicesMap = {{ nodeDevicesMapJson|safe }};
    window.nodes = {{ nodesJson|safe if nodesJson else '[]' }};
    window.clients = {{ clientsJson|safe if clientsJson else '[]' }};
    window.clientWidgetsMap = {{ clientWidgetsMapJson|safe if clientWidgetsMapJson else '{}' }};
    window.sceneId = {{ sceneId }};
    window.domainId = '{{ domainId }}';
    window.sceneEventData = {{ eventJson|safe if eventJson else 'null' }};
</script>
{% endblock %}

