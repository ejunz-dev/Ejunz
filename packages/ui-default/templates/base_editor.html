{% extends "layout/basic.html" %}
{% block content %}
{% set _editor_mode = editorMode or 'base' %}
<script>
  {{ set(UiContext, 'currentBranch', currentBranch) }}
  {{ set(UiContext, 'base', {
    domainId: base.domainId,
    docId: base.docId,
    bid: base.bid,
    currentBranch: currentBranch
  }) }}
  {{ set(UiContext, 'nodeCardsMap', nodeCardsMap or {}) }}
  {{ set(UiContext, 'files', files or []) }}
  {{ set(UiContext, 'todayContribution', todayContribution or { nodes: 0, cards: 0, problems: 0, nodeChars: 0, cardChars: 0, problemChars: 0 }) }}
  {{ set(UiContext, 'todayContributionAllDomains', todayContributionAllDomains or { nodes: 0, cards: 0, problems: 0, nodeChars: 0, cardChars: 0, problemChars: 0 }) }}
  {{ set(UiContext, 'contributions', contributions or []) }}
  {{ set(UiContext, 'contributionDetails', contributionDetails or {}) }}
  {{ set(UiContext, 'socketUrl', 'base/ws?domainId=' + (domainId or (base and base.domainId) or '') + '&docId=' + (base.docId.toString() if base and base.docId else '')) }}
</script>
<div class="row">
  <div class="large-12 columns">
    <div class="section" style="background: transparent; border: none; box-shadow: none; margin: 0;">
      <div class="section__body no-padding" style="background: transparent; padding: 0;">
        <div id="{{ _editor_mode }}-editor-mode" data-doc-id="{{ base.docId if base else '' }}"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}