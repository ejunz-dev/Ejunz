.chat-container
  display: flex
  flex-direction: column
  height: 70vh
  border: 1px solid #e0e0e0
  border-radius: 8px
  background: #f9f9f9

  .chat-messages
    flex: 1
    overflow-y: auto
    padding: 16px

  .chat-input-container
    display: flex
    padding: 16px
    border-top: 1px solid #e0e0e0
    background: white

    textarea
      flex: 1
      margin-right: 12px
      padding: 12px
      border: 1px solid #e0e0e0
      border-radius: 4px
      resize: none
      font-family: inherit

    .send-button
      padding: 12px 24px
      background: #007acc
      color: white
      border: none
      border-radius: 4px
      cursor: pointer
      transition: background 0.2s

.api-key-warning
  padding: 12px
  background: #f48771
  color: white
  border-radius: 4px
  margin-bottom: 16px

.mcp-status-container
  margin-bottom: 12px

.chat-message
  margin-bottom: 16px
  display: flex
  flex-direction: column
  max-width: 85%
  word-wrap: break-word

  &.user
    align-self: flex-end
    margin-left: auto

    .message-bubble
      background: #007acc
      color: white
      border-radius: 18px 18px 4px 18px
      padding: 12px 16px
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)

  &.assistant
    align-self: flex-start
    margin-right: auto

    .message-bubble
      background: #ffffff
      color: #333
      border: 1px solid #e0e0e0
      border-radius: 18px 18px 18px 4px
      padding: 12px 16px
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05)

  &.tool
    align-self: flex-start
    margin-right: auto
    max-width: 90%

    .message-bubble
      background: #f5f7fa
      border: 1px solid #d1d9e0
      border-radius: 8px
      padding: 0
      overflow: hidden

  &.error
    align-self: flex-start
    max-width: 100%

    .message-bubble
      background: #f48771
      color: white
      border-radius: 8px
      padding: 12px 16px

.message-bubble
  width: 100%

.message-content
  line-height: 1.6
  word-wrap: break-word

  p
    margin: 0.5em 0

    &:first-child
      margin-top: 0

    &:last-child
      margin-bottom: 0

  pre
    background: rgba(0, 0, 0, 0.05)
    padding: 8px 12px
    border-radius: 4px
    overflow-x: auto
    margin: 0.5em 0

  code
    background: rgba(0, 0, 0, 0.05)
    padding: 2px 6px
    border-radius: 3px
    font-size: 0.9em

.chat-message.assistant .message-bubble
  pre
    background: #f5f5f5
    border: 1px solid #e0e0e0

  code
    background: #f5f5f5

.mcp-status
  font-size: 12px
  padding: 4px 12px
  border-radius: 4px
  background: #e0e0e0
  display: inline-block

  &.connected
    background: #4caf50
    color: white

  &.disconnected
    background: #f44336
    color: white

.button:hover
  background: #005999

.button:disabled
  background: #ccc
  cursor: not-allowed

.loading
  display: inline-block
  width: 12px
  height: 12px
  border: 2px solid #ccc
  border-top-color: #007acc
  border-radius: 50%
  animation: spin 0.6s linear infinite

@keyframes spin
  to
    transform: rotate(360deg)

// Tool call styles - separate from message bubble
.tool-call-container
  margin-bottom: 12px
  align-self: flex-start
  max-width: 90%

.tool-call-bubble
  background: #f8f9fa
  border: 1px solid #dee2e6
  border-left: 4px solid #6c757d
  border-radius: 8px
  padding: 12px 16px
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1)

.tool-call-header
  display: flex
  align-items: center
  gap: 8px
  margin-bottom: 12px
  font-size: 13px
  font-weight: 600
  color: #495057
  text-transform: uppercase
  letter-spacing: 0.5px

  &::before
    content: 'ðŸ”§'
    font-size: 16px

.tool-call-item
  background: #ffffff
  border: 1px solid #e9ecef
  border-radius: 6px
  padding: 10px 12px
  margin-bottom: 8px

  &:last-child
    margin-bottom: 0

  code
    display: inline-block
    background: #e9ecef
    color: #495057
    padding: 4px 8px
    border-radius: 4px
    font-size: 13px
    font-weight: 600
    margin-bottom: 8px

  pre
    margin: 8px 0 0 0
    padding: 8px
    background: #f8f9fa
    border: 1px solid #e9ecef
    border-radius: 4px
    font-size: 12px
    overflow-x: auto
    color: #212529

// Tool result styles
.tool-result-container
  margin-bottom: 12px
  align-self: flex-start
  max-width: 90%

.tool-result-bubble
  background: #e7f3ff
  border: 1px solid #b3d9ff
  border-left: 4px solid #2196f3
  border-radius: 8px
  padding: 12px 16px
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1)

.tool-header
  display: flex
  align-items: center
  gap: 8px
  margin-bottom: 10px
  font-size: 13px
  font-weight: 600
  color: #1976d2

  &::before
    content: 'ðŸ“¤'
    font-size: 16px

.tool-content
  background: #ffffff
  border: 1px solid #b3d9ff
  border-radius: 4px
  padding: 10px 12px
  font-size: 13px
  color: #212529
  white-space: pre-wrap
  word-wrap: break-word
  max-height: 400px
  overflow-y: auto

  pre
    margin: 0
    padding: 0
    background: transparent
    border: none
    font-size: 12px
    white-space: pre-wrap
    word-wrap: break-word

// MCP Tools Sidebar Styles
.mcp-server-item
  margin-bottom: 10px
  border: 1px solid #ddd
  border-radius: 4px
  overflow: hidden

.mcp-server-header
  padding: 10px
  background: #f5f5f5
  cursor: pointer
  display: flex
  align-items: center
  user-select: none

  &:hover
    background: #e9e9e9

.mcp-server-toggle
  margin-right: 8px
  transition: transform 0.2s

.mcp-server-name
  flex: 1
  font-weight: bold

.mcp-server-status
  font-size: 0.85em
  display: flex
  align-items: center
  gap: 4px

.status-indicator
  width: 8px
  height: 8px
  border-radius: 50%
  display: inline-block

.status-online
  background-color: #28a745

.status-offline
  background-color: #dc3545

.mcp-server-tools
  padding: 10px
  background: white

.mcp-tool-item
  padding: 8px
  margin-bottom: 8px
  border: 1px solid #eee
  border-radius: 3px
  background: #fafafa

.mcp-tool-name
  font-weight: bold
  margin-bottom: 4px
  color: #333

.mcp-tool-description
  font-size: 0.9em
  color: #666
  margin-bottom: 4px

.mcp-tool-schema
  font-size: 0.85em
  margin-top: 4px

  summary
    cursor: pointer
    color: #888

  pre
    margin-top: 4px
    padding: 4px
    background: #f5f5f5
    border-radius: 2px
    overflow-x: auto
    font-size: 0.8em

.mcp-tool-empty
  padding: 8px
  color: #999
  font-style: italic
  text-align: center

